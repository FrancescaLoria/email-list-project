<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/style.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />

    <script>
        const routes = [
            {
                url: "login",
                filePath: "pages/login/login.html",
                pageTitle: "Login"
            },
            {
                url: "sign-in",
                filePath: "pages/login/login.html",
                pageTitle : "Sign in"
            },
        ]

        const changeRoute = (url) => {
            const main = document.querySelector("main")
            
            window.history.pushState({}, "", url);
            
            const findedRoute = routes.find((route) => url === route.url)

            document.title = findedRoute.pageTitle
            loadPage(main, findedRoute.filePath)
        }

        const loadPage = (htmlElement, path) => {
            const xhr = new XMLHttpRequest();
            xhr.onload = () => {
                htmlElement.innerHTML = xhr.responseXML.body.innerHTML
            };
            xhr.open("GET", path);
            xhr.responseType = "document";
            xhr.send();
        }

        addEventListener("DOMContentLoaded", (event) => {
            document.title = "Homepage"
            const headerElement = document.querySelector("header")
            const main = document.querySelector("main")

            loadPage(headerElement, "partials/header.html");
            loadPage(main, "pages/homepage/homepage.html")
        });
        
    </script>
</head>
<body>
    <header></header>

    <main></main>
</body>
</html>